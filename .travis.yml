language: java
sudo: required
services:
- docker
jdk: oraclejdk8
install: gradle assemble
script: gradle check

after_success:
  - docker login -e $DOCKER_EMAIL -u $DOCKER_USERNAME -p $DOCKER_PASSWORD
  - export REPO=arne2/fapcrawler
  - export TAG=latest
  - docker build -f dockerfile -t $REPO:$COMMIT .
  - docker tag $REPO:$COMMIT $REPO:$TAG
  - docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER
  - docker push $REPO

notifications:
  email: false
env:
  global:
  - secure: AHUVOmwk1WSTgfuAKnE2dvPC3caZA1+9etLfyTl5NwWOW2kmfPY6Lr1rZbZmLQG0kQ6hYECkVpKDINbLGMKMMnB2fwOjk4/FebQGwBc77axELDEtDa3vemhssGY7UBOCC+C7hhPKgkkiHgjvZmA6J0HtiQFtN3ucjzqOK6nwIBMHCXhB7NW/+/3FWAA17QwX4yIPaLDiJSJ3yMUKZ3pn7C9RWR28A6T/WgvJZnHBohMGxQaWV/E/vEAsjklPUypCtClZ/JcNAAUx+awVpPcWZn7rrmBufSjh5+kz2IQsdCgnVc20uuv1HDT6P/a+1yGj6zKW1epaV0G2/sh9cOFZb/djIDHaRIhHaNLJVmgf5gVFSgNJXTLZWkbDo1EMRH1RtHpbvt1PePj61qsJ2QNaF+UUlT2yzgU/dCKAxBUvNiEuxc0rhV3o/DJhGVNOn/XixQqDdnudtQE887KzlAmpoDdGT6sUk3Bj31nCKZYwIVHa2OPAg6lH+5dyKUXGqgSDrF3BP+iUye01ZNM/eNle9pJNNEb9lc5RgD+7ZcJLKt7MqiP+YWCYRYV4nkNYV+GMVnF4vfZFx9JgEehyPbIlKkmrV8h+8NNE5Kq7D40vQeGaSbM+MnbPkqJVCo4dq+qQJGIhcNlA+eNbOFecsniRZyG+Y3uPtPrqkb3FW8KMYaA=
  - secure: WXpK7sVZP9hR2m2m5L7rGmJJPYE3hYe1XKgPMZUYRZfPaxKsbJQl5X1zmUpjXCLwB1Qbm7iBkVdT/AXyKwc3ukcxT8aSRU/qAXtTFQl5uUQnq4kLb4Uex6zitO6ZACwVtNObKI3XZ+YiMxLZdIbYryfLUNokRZiSdgq8XpTbMpdLFbXHJBhQri//JxxvMIpfu8ngpowS6AEXhAqGO5gtiaNpPaIR41+ZQXL3JzdatJvazYRanPskBRGf4qxTPm1O0ubMWGtOI4gwp7YWRRq05bmrWUCSnGlWRUpDQ9Yh3+34hzTfrHL43TqrYq2KzaIE7bOsN71Jg7rrqs6QbJJh5wT9BSVwNL3xpP5HGwOiATeTgnnLaVmFTh3w3F+1C1WM1X0xLRIc6zDlawsJTA+uUnlOHo/NpCLjo8f72T8oB+PgNMp8Y0t4jpSGRg3USwS3W97/1u4mUM7dNWLpsBImklXsE2YkGN2Is6RD9gUl6k7aW+Ap7s0gPDZTH34JtBwT7z5paSEPaWlwBdmq4suHekOYmrTsKAkzoKFdpkFP3sw8016AYQEzCzCj6EIUJ+Gav1UVgc7jUUUKSjbF5sRX7EpSlX19q17rkO8dS5CFOKGGQdM0G9JpvfNUnn+FGSUi8tB+Ssr3u6Lwuv3HEODIa41DRnoqt4th/So/nU74Q20=
  - secure: YE5acl7T9Np1J6eQigqNgP4ssQj2Q0ovTH/9sD2k7N9kTBRYI4wLJ7upIvCkurisp2w93bPFjdh/4gxgoyUlC8vczHEzNNnVtdpeU5QO6PYwfBauT0eQV6Ui/Hign3nHQ/8bnxEwyqGPymyONjlQaEXnkfl/lDnvI/QoQ6z349/tTtJPsL9dOtslm+SjDPVsahEw6VNzaV7QtZBt7PV4iM8qRF07CQZs3p7lNNQtZVv0Ifzn9kszVG0s5u/8JHYCEk7JULD33+W+fHvtGCgrQKY5m3hkt/aBr1w9Dl+iZ8BJ/J6Zl68ZCDAXdMiWOZf3K2mRrlwzkoJT4lclkj7hWMWL6mUXdquU3viizdAb9IfUxoOZmjjGrUDs0VVzkC3CganZNd6FxpL7/wWQz7qNpN+4ycDyUdwP9k6l1I+IxVE9LB7qBYLpiecqrCwIcB3YgH/0YVSsvu1HJXWDnl3Vn91fnxrAwSTvBsG1YyvDMKYRwUTnf9G8Rb94zuJIohSLHnzF6UrmATx6R+cfwGEHMB3cOECv8L32hDGvedJnly7wHnAg3t8SwHNw0xEWbi3dvYdY60yu9C5jA2hAuaROH9+zlMp588nAsxzC4EHXZzdWx8sIgAN1sAkHG0UXugQWweHv+M78AcYX0/ax7HZR6qxteBGTTVKLP8VLXXsO3A4=



